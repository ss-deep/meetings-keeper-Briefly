{% extends "base.html" %}
{% block title %}Summary{% endblock %}
{% block head %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-KyZXEAg3QhqLMpG8r+Knujsl5/6bY2Lzj9s5I7ay5r3eQQdCIUpZnFG3h/1IwVZH" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>
{% endblock %}
{% block heading %}Summary of Meeting - {{ meeting.title | capitalize }}{% endblock %}
{% block content %}
<ul class="nav nav-tabs me-auto" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="summary-tab" data-bs-toggle="tab" data-bs-target="#summary" type="button" role="tab">Summary</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="transcript-tab" data-bs-toggle="tab" data-bs-target="#transcript" type="button" role="tab">Transcript</button>
    </li>                              
</ul>
<div class="tab-content shadow-sm pt-5" id="myTabContent">
    <div class="tab-pane fade mt-2 px-3 show active" id="summary" role="tabpanel">
        <div class="visible">{{ meeting.brief_summary | safe }}<br>
            <button type="button" class="btn px-3 my-4" onclick="showText(this, '{{ meeting.brief_summary | safe }}')" data-bs-toggle="modal" data-bs-target="#editSummary" data-summary-type="brief">
            Edit
            </button>
            <button type="button" class="btn my-4">
            Add or Change Project
            </button>
        </div>
    </div>

    <div class="tab-pane fade mt-2 px-3 show visible" id="transcript" role="tabpanel">
        <div class="visible">{{ meeting.detail_summary | safe }}<br>
            <button type="button" class="btn px-3 my-4" onclick="showText(this, '{{ meeting.detail_summary | safe }}')" data-bs-toggle="modal" data-bs-target="#editSummary" data-summary-type="detail">
            Edit
            </button>
            <button type="button" class="btn my-4">
            Add or Change Project
            </button>
        </div>
    </div>
</div>

<!-- Modal to edit summary of the meeting -->
<div class="modal fade" id="editSummary" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Edit Summary</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <form method="POST" action="{{ url_for('update_summary', meeting_id=meeting.meeting_id) }}">
                <div class="modal-body">
                    <div class="mb-3">
                        <div id="summernote"></div>
                        <input type="hidden" id="summary_type" name="summary_type" value="">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Done</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    function showText(button, content) {
        const summaryType = button.getAttribute('data-summary-type');
        $('#summernote').summernote({
            height: 400,
            focus: true
        });
        $('#summernote').summernote('code', content);
        document.getElementById('summary_type').value = summaryType;
    }

    $('#editSummary').on('shown.bs.modal', function () {
        $('#summernote').summernote({
            height: 400,
            focus: true
        });
    });

    $('#editSummary').on('hidden.bs.modal', function () {
        $('#summernote').summernote('destroy');
    });
</script>
{% endblock %}

{% extends "base.html" %}
{% block title %}Summary{% endblock %}
{% block head %}
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>
{% endblock %}
{% block heading %}Summary of Meeting - {{ meeting.title | capitalize }}{% endblock %}
{% block content %}
<ul class="nav nav-tabs me-auto" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="summary-tab" data-bs-toggle="tab" data-bs-target="#summary" type="button" role="tab">Summary</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link " id="transcript-tab" data-bs-toggle="tab" data-bs-target="#transcript" type="button" role="tab">Transcript</button>
    </li>                              
</ul>
<div class="tab-content shadow-sm pt-5" id="myTabContent">
    <div class="tab-pane fade mt-2 px-3 show active " id="summary" role="tabpanel">
        <div class="visible" id="detail_summary1">{{ meeting.brief_summary | safe }}<br> </div>
            <button type="button" class="btn px-3 my-4 " onclick="showText(this,type='brief')" data-bs-toggle="modal" data-bs-target="#editSummary" data-bs-whatever="brief">
            Edit
            </button>
            <button type="button" class="btn my-4" id="myBtn1">
            Add or Change Project
            </button>
       
    </div>

    <div class="tab-pane fade mt-2 px-3 show visible" id="transcript" role="tabpanel">
        <div class="visible" id="detail_summary">{{ meeting.detail_summary | safe }}<br> </div>
            <button type="button" class="btn px-3 my-4" onclick="showText(this,type='detail')" data-bs-toggle="modal" data-bs-target="#editSummary" data-bs-whatever="detail">
                Edit
            </button>
            <button type="button" class="btn my-4" id="myBtn">
                Add or Change Project
            </button>   
    </div>

<!-- Modal to edit summary of the meeting -->

<div class="modal fade" id="editSummary" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Edit Summary</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <form method="POST" action="{{ url_for('update_summary', meeting_id=meeting.meeting_id) }}">
                <div class="modal-body">
                    <div class="mb-3">
                        <div id="summernote">{{ meeting.brief_summary | safe }}</div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Modal to add or change project for the meeting -->

<script>
    $('#editSummary').on('shown.bs.modal', function () {
  let detailSummaryElement = document.getElementById("detail_summary");
  if (detailSummaryElement) {
    let detailSummaryText = detailSummaryElement.textContent || detailSummaryElement.innerHTML;
    $('#summernote').summernote({
      height: 400,
      focus: true,
      // Set the initial content here
      content: detailSummaryText
    });
  }
});

$('#editSummary').on('hidden.bs.modal', function () {
  $('#summernote').summernote('destroy');
});
//     document.getElementById("myBtn").onclick = function(e) {
//     // Get the detail_summary element
//     let detailSummaryElement = document.getElementById("detail_summary");

//     if (detailSummaryElement) {
//         let detailSummaryText = detailSummaryElement.textContent || detailSummaryElement.innerText;
//         console.log("Detail Summary: ", detailSummaryText);
//     } else {
//         console.log("Detail summary element not found.");
//     }
// };

// function showText(button) {
//     let detailSummaryElement = document.getElementById("detail_summary");
//     if (detailSummaryElement) {
//         let detailSummaryText = detailSummaryElement.textContent || detailSummaryElement.innerHTML;
//         $('#summernote').summernote({
//             height: 400,
//             focus: true
//         });
//         $('#summernote').summernote('code', detailSummaryText);
//     }
// }

// $('#editSummary').on('shown.bs.modal', function () {
//     $('#summernote').summernote({
//         height: 400,
//         focus: true
//     });
// });

// $('#editSummary').on('hidden.bs.modal', function () {
//     $('#summernote').summernote('destroy');
// });

    // document.getElementById("myBtn").onclick = function(e){
    //     let text=document.getElementById(e.target.parentNode.id).value
    //     console.log("HI....",text);
    // //   alert(e.target.parentNode.id);
    // }


    // function showText(e) {
    //     $('#summernote').summernote({
    //     height: 400,                 
    //     minHeight: null,           
    //     maxHeight: null,            
    //     focus: true,           
    //     });    
    //     const summaryType = button.getAttribute('data-bs-whatever');
        
    // // $('#summernote').summernote('pasteHTML', '{{meeting.detail_summary}}');

</script>
{% endblock %}



{% extends "base.html" %}
{% block title %}Summary{% endblock %}
{% block head %}
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>
{% endblock %}
{% block heading %}Summary of Meeting - {{ meeting.title | capitalize }}{% endblock %}
{% block content %}
<ul class="nav nav-tabs me-auto" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="summary-tab" data-bs-toggle="tab" data-bs-target="#summary" type="button" role="tab">Summary</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link " id="transcript-tab" data-bs-toggle="tab" data-bs-target="#transcript" type="button" role="tab">Transcript</button>
    </li>                              
</ul>
<div class="tab-content shadow-sm pt-5" id="myTabContent">
    <div class="tab-pane fade mt-2 px-3 show active " id="summary" role="tabpanel">
        <div class="visible" id="briefSummary">{{ meeting.brief_summary | safe }}<br> </div>
            <button type="button" class="btn px-3 my-4 " onclick="showBriefSummary()" data-bs-toggle="modal" data-bs-target="#editSummary" data-bs-whatever="brief">
                Edit
            </button>
            <button type="button" class="btn my-4" id="myBtn">
                Add or Change Project
            </button>
       
    </div>

    <div class="tab-pane fade mt-2 px-3 show visible" id="transcript" role="tabpanel">
        <div class="visible" id="detail_summary">{{ meeting.detail_summary | safe }}<br> </div>
            <button type="button" class="btn px-3 my-4" onclick="showDetailSummary()" data-bs-toggle="modal" data-bs-target="#editSummary" data-bs-whatever="detail">
                Edit
            </button>
            <button type="button" class="btn my-4" id="myBtn">
                Add or Change Project
            </button>   
    </div>

<!-- Modal to edit summary of the meeting -->

<div class="modal fade" id="editSummary" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Edit Summary</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <form method="POST" action="{{ url_for('update_summary', meeting_id=meeting.meeting_id) }}">
                <div class="modal-body">
                    <div class="mb-3">
                        <div id="summernote"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Modal to add or change project for the meeting -->

<script>

function showBriefSummary(){
    let summaryElement = document.getElementById("briefSummary");
    if (summaryElement) {
        let summaryText = summaryElement.textContent || summaryElement.innerHTML;
    $('#summernote').summernote('pasteHTML', summaryText);
    }
}

// function showText(button,type) {
//     let detailSummaryElement = document.getElementById("detail_summary");
//     if (detailSummaryElement) {
//         let detailSummaryText = detailSummaryElement.textContent || detailSummaryElement.innerHTML;
//         $('#summernote').summernote({
//             height: 400,
//             focus: true
//         });
//         $('#summernote').summernote('code', detailSummaryText);
//     }
// }

// $('#editSummary').on('shown.bs.modal', function () {
//     $('#summernote').summernote({
//         height: 400,
//         focus: true
//     });
// });

// $('#editSummary').on('hidden.bs.modal', function () {
//     $('#summernote').summernote('destroy');
// });





    // document.getElementById("myBtn").onclick = function(e){
    //     let text=document.getElementById(e.target.parentNode.id).value
    //     console.log("HI....",text);
    // //   alert(e.target.parentNode.id);
    // }


    // function showText(e) {
    //     $('#summernote').summernote({
    //     height: 400,                 
    //     minHeight: null,           
    //     maxHeight: null,            
    //     focus: true,           
    //     });    
    //     const summaryType = button.getAttribute('data-bs-whatever');
        
    // // $('#summernote').summernote('pasteHTML', '{{meeting.detail_summary}}');

</script>
{% endblock %}
